<script>
 // To make up for long loading times
(() => {
  const maxLoadTime = 4000; // 5 seconds threshold
  const startTime = performance.timing.navigationStart;
  let messageElem = null;

  // Check elapsed loading time every 500ms
  const intervalId = setInterval(() => {
    const elapsed = Date.now() - startTime;
    if (elapsed > maxLoadTime && !messageElem) {
      messageElem = document.createElement('div');
      Object.assign(messageElem.style, {
        position: 'fixed',
        top: '0',
        left: '0',
        width: '100%',
        padding: '1em',
        backgroundColor: '#f8d7da',
        color: '#721c24',
        fontSize: '1.2rem',
        textAlign: 'center',
        zIndex: '9999',
      });
      messageElem.textContent = "It seems we're having some time troubles. Try refreshing the webpage.";
      document.body.appendChild(messageElem);

      clearInterval(intervalId); // stop further checks once message is shown
    }
  }, 200);

  // When the page fully loads, remove the message if it was shown
  window.addEventListener('load', () => {
    if (messageElem && messageElem.parentNode) {
      messageElem.parentNode.removeChild(messageElem);
    }
    clearInterval(intervalId);
  });
})();
</script>